-- Corriger directement en SQL
UPDATE resultats_finaux rf
INNER JOIN session_exams se ON rf.session_exam_id = se.id
SET rf.decision = 'redoublant'
WHERE se.type = 'Rattrapage'
AND rf.decision = 'rattrapage';

-- Vérifier le résultat
SELECT 
    e.matricule,
    e.nom,
    e.prenom,
    n.nom as niveau,
    rf.decision,
    se.type as session_type
FROM resultats_finaux rf
INNER JOIN session_exams se ON rf.session_exam_id = se.id
INNER JOIN etudiants e ON rf.etudiant_id = e.id
INNER JOIN niveaux n ON e.niveau_id = n.id
WHERE se.type = 'Rattrapage'
AND rf.decision = 'rattrapage';
-- Devrait retourner 0 ligne



UPDATE annees_universitaires 
SET libelle = CONCAT(YEAR(date_start), '-', YEAR(date_end))
WHERE libelle IS NULL OR libelle = '';