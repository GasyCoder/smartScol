-- ðŸŽ¯ Mise Ã  jour rÃ©aliste des notes pour lâ€™Ã©tudiant 1101 (examen 19, session 1)
-- âœ… Notes entre 12 et 16 inclus, arrondies Ã  .00 / .25 / .50 / .75

UPDATE copies
SET note = (
    -- Ã‰tape 1 : GÃ©nÃ©ration d'une base alÃ©atoire entre 12 et 16
    ROUND(
        (FLOOR(12 * 4) + FLOOR(RAND() * ((16 - 12) * 4 + 1))) / 4, 2
    )
)
WHERE examen_id = 19
  AND session_exam_id = 1
  AND code_anonymat_id IN (
      SELECT code_anonymat_id
      FROM manchettes
      WHERE etudiant_id = 1101
        AND examen_id = 19
        AND session_exam_id = 1
  );
